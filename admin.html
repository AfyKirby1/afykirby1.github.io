<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- ✅ SECURITY FIX (VULN-006): Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: blob:; connect-src 'self' ws://localhost:1234 ws://127.0.0.1:1234; base-uri 'self'; form-action 'self';">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="no-referrer">
    
    <title>Admin Panel - Runes of Tir na nÓg</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(45deg, #1a4d5c, #2d5a3f, #4a2d52, #1e3a5f);
            background-size: 400% 400%;
            animation: aurora 15s ease infinite;
            color: #fff;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(ellipse at 20% 30%, rgba(100, 200, 180, 0.3) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 60%, rgba(180, 100, 150, 0.3) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 80%, rgba(100, 150, 200, 0.3) 0%, transparent 50%);
            animation: shimmer 10s ease-in-out infinite alternate;
            pointer-events: none;
        }

        @keyframes aurora {
            0% { background-position: 0% 50%; }
            25% { background-position: 50% 75%; }
            50% { background-position: 100% 50%; }
            75% { background-position: 50% 25%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes shimmer {
            0% { opacity: 0.5; transform: translateY(0); }
            100% { opacity: 0.8; transform: translateY(-20px); }
        }
        
        /* Back arrow styling */
        .back-arrow {
            position: absolute;
            top: 20px;
            left: 20px;
            background: linear-gradient(145deg, #2a2a3e, #1a1a2e);
            border: 2px solid #d4af37;
            color: #d4af37;
            padding: 10px 15px;
            font-size: 1rem;
            font-weight: bold;
            font-family: 'Cinzel', serif;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            text-decoration: none;
            display: inline-block;
        }

        .back-arrow:hover {
            background: linear-gradient(145deg, #3a3a4e, #2a2a3e);
            border-color: #ffd700;
            color: #ffd700;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4), 0 0 25px rgba(255, 215, 0, 0.4);
        }

        .back-arrow:active {
            transform: translateY(0px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .admin-container{position:relative;text-align:center;background:rgba(26,26,46,0.85);border:2px solid #d4af37;border-radius:16px;padding:40px 60px;box-shadow:0 0 30px rgba(212,175,55,0.35),inset 0 0 30px rgba(212,175,55,0.08);min-width:500px;max-width:800px}
        
        .admin-title{font-size:2.5rem;font-weight:900;letter-spacing:2px;text-transform:uppercase;margin-bottom:20px;background:linear-gradient(45deg,#8b5a2b,#d4af37,#ffd700,#ffed4e,#d4af37);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;text-shadow:2px 2px 0px rgba(139,90,43,0.8),-2px -2px 0px rgba(139,90,43,0.8),0 0 12px #ff8c42}
        
        .welcome-message {
            color: #4ade80;
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 30px;
            text-shadow: 0 0 10px rgba(74, 222, 128, 0.5);
        }
        
        .admin-tools {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .war-room-banner {
            grid-column: 1 / -1;
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 2px solid #ff6b6b;
            border-radius: 12px;
            padding: 25px;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .war-room-banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                rgba(255, 107, 107, 0.1) 0%, 
                rgba(74, 222, 128, 0.1) 25%, 
                rgba(59, 130, 246, 0.1) 50%, 
                rgba(168, 85, 247, 0.1) 75%, 
                rgba(255, 215, 0, 0.1) 100%);
            border-radius: 12px;
            pointer-events: none;
            opacity: 0.3;
        }
        
        .war-room-banner:hover {
            border-color: #ff8c42;
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4), 0 0 25px rgba(255, 140, 66, 0.3);
        }
        
        .war-room-content {
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .war-room-icon {
            font-size: 3rem;
            background: linear-gradient(45deg, #ff6b6b, #ff8c42, #ffd700);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 10px rgba(255, 107, 107, 0.5));
        }
        
        .war-room-text {
            flex: 1;
        }
        
        .war-room-title {
            color: #ff6b6b;
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
        }
        
        .war-room-description {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            line-height: 1.4;
        }
        
        .war-room-arrow {
            font-size: 2rem;
            color: #ff8c42;
            transition: transform 0.3s ease;
        }
        
        .war-room-banner:hover .war-room-arrow {
            transform: translateX(10px);
        }
        
        .tool-card {
            background: linear-gradient(145deg, #2a2a3e, #1a1a2e);
            border: 2px solid #d4af37;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .tool-card:hover {
            border-color: #ffd700;
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4), 0 0 25px rgba(255, 215, 0, 0.3);
        }
        
        .tool-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }
        
        .tool-title {
            color: #d4af37;
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .tool-description {
            color: rgba(212, 175, 55, 0.8);
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .coming-soon {
            border-color: #8b7355;
            opacity: 0.7;
        }
        
        .coming-soon:hover {
            border-color: #8b7355;
            transform: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .coming-soon .tool-title {
            color: #8b7355;
        }
        
        .coming-soon .tool-description {
            color: rgba(139, 115, 85, 0.8);
        }
        
        .user-info {
            background: linear-gradient(145deg, #2d5a2d, #1a3a1a);
            border: 2px solid #4ade80;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .user-name {
            color: #4ade80;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .logout-btn {
            background: linear-gradient(145deg, #5a2d2d, #3a1a1a);
            border: 2px solid #ef4444;
            color: #ef4444;
            padding: 8px 16px;
            font-size: 0.9rem;
            font-weight: bold;
            font-family: 'Cinzel', serif;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .logout-btn:hover {
            background: linear-gradient(145deg, #6a3d3d, #4a2a2a);
            border-color: #f87171;
            color: #f87171;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4), 0 0 15px rgba(248, 113, 113, 0.3);
        }
        
        .footer-text {
            margin-top: 20px;
            font-size: 0.8rem;
            color: rgba(212, 175, 55, 0.7);
            font-family: 'Cinzel', serif;
        }
    </style>
    <meta name="description" content="Admin Panel - Runes of Tir na nÓg - Access exclusive tools and features">
    <meta property="og:title" content="Admin Panel - Runes of Tir na nÓg">
    <meta property="og:description" content="Welcome to the club - Access exclusive admin tools and features">
    <meta property="og:type" content="website">
</head>
<body>
    <a href="landing.html" class="back-arrow">← Back</a>
    
    <div class="admin-container">
        <div class="admin-title">Welcome to the Club</div>
        
        <div class="user-info">
            <span class="user-name" id="userName">Welcome, Admin!</span>
            <button class="logout-btn" id="logoutBtn">Logout</button>
        </div>
        
        <div class="admin-tools">
            <div class="war-room-banner" onclick="window.location.href='war-room.html'">
                <div class="war-room-content">
                    <span class="war-room-icon">⚔️</span>
                    <div class="war-room-text">
                        <div class="war-room-title">The War Room</div>
                        <div class="war-room-description">Strategic planning and tactical operations center for team collaboration, asset management, and project coordination.</div>
                    </div>
                    <span class="war-room-arrow">→</span>
                </div>
            </div>
            
            <div class="tool-card" onclick="window.location.href='Blocky-Builder/index.html'">
                <span class="tool-icon">🗺️</span>
                <div class="tool-title">World Builder</div>
                <div class="tool-description">Create and edit game worlds, levels, and environments.</div>
            </div>
            
            <div class="tool-card" onclick="alert('Server Management tool - Coming Soon!')">
                <span class="tool-icon">🖥️</span>
                <div class="tool-title">Server Management</div>
                <div class="tool-description">Monitor and manage game servers, player connections, and server performance.</div>
            </div>
            
            <div class="tool-card" onclick="alert('Player Analytics tool - Coming Soon!')">
                <span class="tool-icon">📊</span>
                <div class="tool-title">Player Analytics</div>
                <div class="tool-description">View player statistics, game metrics, and performance data.</div>
            </div>
            
            <div class="tool-card" onclick="alert('Content Management tool - Coming Soon!')">
                <span class="tool-icon">📝</span>
                <div class="tool-title">Content Management</div>
                <div class="tool-description">Manage game content, announcements, and community updates.</div>
            </div>
        </div>
        
        <div class="footer-text">Exclusive admin access - More tools coming soon!</div>
    </div>
    
    <script>
        function initAdminPanel() {
            const userName = document.getElementById('userName');
            const logoutBtn = document.getElementById('logoutBtn');
            
            // Display current user
            const currentUser = localStorage.getItem('runes_username') || 'Admin';
            userName.textContent = `Welcome, ${currentUser}!`;
            
            // Logout functionality
            logoutBtn.addEventListener('click', function() {
                // Clear login state
                localStorage.removeItem('runes_logged_in');
                localStorage.removeItem('runes_username');
                
                // Redirect to main index page
                window.location.href = 'index.html';
            });
            
            // Add ripple effect to tool cards and war room banner
            const toolCards = document.querySelectorAll('.tool-card');
            const warRoomBanner = document.querySelector('.war-room-banner');
            
            [].forEach.call(toolCards, card => {
                card.addEventListener('click', function(e) {
                    if (this.classList.contains('coming-soon')) return;
                    addRippleEffect(this, e);
                });
            });
            
            if (warRoomBanner) {
                warRoomBanner.addEventListener('click', function(e) {
                    addRippleEffect(this, e);
                });
            }
            
            function addRippleEffect(element, e) {
                const ripple = document.createElement('span');
                const rect = element.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = e.clientX - rect.left - size / 2;
                const y = e.clientY - rect.top - size / 2;
                
                ripple.style.width = ripple.style.height = size + 'px';
                ripple.style.left = x + 'px';
                ripple.style.top = y + 'px';
                ripple.style.position = 'absolute';
                ripple.style.borderRadius = '50%';
                ripple.style.background = 'rgba(255, 255, 255, 0.3)';
                ripple.style.transform = 'scale(0)';
                ripple.style.animation = 'ripple 0.6s linear';
                ripple.style.pointerEvents = 'none';
                
                element.style.position = 'relative';
                element.style.overflow = 'hidden';
                element.appendChild(ripple);
                
                setTimeout(() => {
                    ripple.remove();
                }, 600);
            }
        }
        
        // Check login status
        function checkLoginStatus() {
            const isLoggedIn = localStorage.getItem('runes_logged_in') === 'true';
            if (!isLoggedIn) {
                // If not logged in, redirect to login page
                window.location.href = 'login.html';
            }
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            checkLoginStatus();
            initAdminPanel();
        });
        
        // CSS for ripple effect
        const style = document.createElement('style');
        style.textContent = `
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
